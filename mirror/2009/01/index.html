<!DOCTYPE html>
<html dir='ltr'>
<head>
<link href='https://www.blogger.com/static/v1/widgets/55013136-widget_css_bundle.css' rel='stylesheet' type='text/css'/>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<meta content='blogger' name='generator'/>
<link href='../../favicon.ico' rel='icon' type='image/x-icon'/>
<link href='index.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="Factor: a practical stack language - Atom" href="http://factor-language.blogspot.com/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Factor: a practical stack language - RSS" href="http://factor-language.blogspot.com/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Factor: a practical stack language - Atom" href="https://www.blogger.com/feeds/17087850/posts/default" />
<!--Can't find substitution for tag [blog.ieCssRetrofitLinks]-->
<meta content='http://factor-language.blogspot.com/2009/01/' property='og:url'/>
<meta content='Factor: a practical stack language' property='og:title'/>
<meta content='&lt;a href=&quot;http://factorcode.org/slava&quot;&gt;Slava Pestov&lt;/a&gt;&#39;s weblog, primarily about &lt;a href=&quot;http://factorcode.org&quot;&gt;Factor&lt;/a&gt;.' property='og:description'/>
<title>Factor: a practical stack language: January 2009</title>
<style id='page-skin-1' type='text/css'><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Stretch Denim Light
Designer: Darren Delaye
URL:      www.DarrenDelaye.com
Date:     11 Jul 2006
-----------------------------------------------
*/
body {
background: #ffffff;
margin: 0;
padding: 0px;
font: x-small Verdana, Arial;
text-align: center;
color: #333333;
font-size/* */:/**/small;
font-size: /**/small;
}
a:link {
color: #336699;
}
a:visited {
color: #336699;
}
a img {
border-width: 0;
}
#outer-wrapper {
font: normal normal 100% Verdana, Arial, Sans-serif;;
}
/* Header
----------------------------------------------- */
#header-wrapper {
margin:0;
padding: 0;
background-color: #c4e1ff;
text-align: left;
}
#header {
margin: 0 2%;
background-color: #c4e1ff;
color: #003366;
padding: 0;
font: normal normal 210% Verdana, Arial, Sans-serif;;
position: relative;
}
h1.title {
padding-top: 38px;
margin: 0 1% .1em;
line-height: 1.2em;
font-size: 100%;
}
h1.title a, h1.title a:visited {
color: #003366;
text-decoration: none;
}
#header .description {
display: block;
margin: 0 1%;
padding: 0 0 40px;
line-height: 1.4em;
font-size: 50%;
}
/* Content
----------------------------------------------- */
.clear {
clear: both;
}
#content-wrapper {
margin: 0 2%;
padding: 0 0 15px;
text-align: left;
background-color: #ffffff;
border: 1px solid #ffffff;
border-top: 0;
}
#main-wrapper {
margin-left: 1%;
width: 64%;
float: left;
background-color: #ffffff;
display: inline;       /* fix for doubling margin in IE */
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;      /* fix for long non-text content breaking IE sidebar float */
}
#sidebar-wrapper {
margin-right: 1%;
width: 29%;
float: right;
background-color: #ffffff;
display: inline;       /* fix for doubling margin in IE */
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;      /* fix for long non-text content breaking IE sidebar float */
}
/* Headings
----------------------------------------------- */
h2, h3 {
margin: 0;
}
/* Posts
----------------------------------------------- */
.date-header {
margin: 1.5em 0 0;
font-weight: normal;
color: #999999;
font-size: 100%;
}
.post {
margin: 0 0 1.5em;
padding-bottom: 1.5em;
}
.post-title {
margin: 0;
padding: 0;
font-size: 125%;
font-weight: bold;
line-height: 1.1em;
}
.post-title a, .post-title a:visited, .post-title strong {
text-decoration: none;
color: #333333;
font-weight: bold;
}
.post div {
margin: 0 0 .75em;
line-height: 1.3em;
}
.post-footer {
margin: -.25em 0 0;
color: #333333;
font-size: 87%;
}
.post-footer .span {
margin-right: .3em;
}
.post img, table.tr-caption-container {
padding: 4px;
border: 1px solid #ffffff;
}
.tr-caption-container img {
border: none;
padding: 0;
}
.post blockquote {
margin: 1em 20px;
}
.post blockquote p {
margin: .75em 0;
}
/* Comments
----------------------------------------------- */
#comments h4 {
margin: 1em 0;
color: #999999;
}
#comments h4 strong {
font-size: 110%;
}
#comments-block {
margin: 1em 0 1.5em;
line-height: 1.3em;
}
#comments-block dt {
margin: .5em 0;
}
#comments-block dd {
margin: .25em 0 0;
}
#comments-block dd.comment-footer {
margin: -.25em 0 2em;
line-height: 1.4em;
font-size: 78%;
}
#comments-block dd p {
margin: 0 0 .75em;
}
.deleted-comment {
font-style:italic;
color:gray;
}
.feed-links {
clear: both;
line-height: 2.5em;
}
#blog-pager-newer-link {
float: left;
}
#blog-pager-older-link {
float: right;
}
#blog-pager {
text-align: center;
}
/* Sidebar Content
----------------------------------------------- */
.sidebar h2 {
margin: 1.6em 0 .5em;
padding: 4px 5px;
background-color: #ffffff;
font-size: 100%;
color: #333333;
}
.sidebar ul {
margin: 0;
padding: 0;
list-style: none;
}
.sidebar li {
margin: 0;
padding-top: 0;
padding-right: 0;
padding-bottom: .5em;
padding-left: 15px;
text-indent: -15px;
line-height: 1.5em;
}
.sidebar {
color: #333333;
line-height:1.3em;
}
.sidebar .widget {
margin-bottom: 1em;
}
.sidebar .widget-content {
margin: 0 5px;
}
/* Profile
----------------------------------------------- */
.profile-img {
float: left;
margin-top: 0;
margin-right: 5px;
margin-bottom: 5px;
margin-left: 0;
padding: 4px;
border: 1px solid #ffffff;
}
.profile-data {
margin:0;
text-transform:uppercase;
letter-spacing:.1em;
font-weight: bold;
line-height: 1.6em;
font-size: 78%;
}
.profile-datablock {
margin:.5em 0 .5em;
}
.profile-textblock {
margin: 0.5em 0;
line-height: 1.6em;
}
/* Footer
----------------------------------------------- */
#footer {
clear: both;
text-align: center;
color: #333333;
}
#footer .widget {
margin:.5em;
padding-top: 20px;
font-size: 85%;
line-height: 1.5em;
text-align: left;
}
/** Page structure tweaks for layout editor wireframe */
body#layout #header {
width: 750px;
}

--></style>
<link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=17087850&amp;zx=107902e8-e226-40c6-bb3f-e93edf539d65' media='none' onload='if(media!=&#39;all&#39;)media=&#39;all&#39;' rel='stylesheet'/><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=17087850&amp;zx=107902e8-e226-40c6-bb3f-e93edf539d65' rel='stylesheet'/></noscript>
<meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
<meta name='google-adsense-platform-domain' content='blogspot.com'/>

</head>
<body>
<div class='navbar section' id='navbar'><div class='widget Navbar' data-version='1' id='Navbar1'><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d17087850\x26blogName\x3dFactor:+a+practical+stack+language\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dBLUE\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttps://factor-language.blogspot.com/search\x26blogLocale\x3den_US\x26v\x3d2\x26homepageUrl\x3dhttp://factor-language.blogspot.com/\x26vt\x3d1910212838315471456',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div id='outer-wrapper'><div id='wrap2'>
<!-- skip links for text browsers -->
<span id='skiplinks' style='display:none;'>
<a href='index.html#main'>skip to main </a> |
      <a href='index.html#sidebar'>skip to sidebar</a>
</span>
<div id='header-wrapper'>
<div class='header section' id='header'><div class='widget Header' data-version='1' id='Header1'>
<div id='header-inner'>
<div class='titlewrapper'>
<h1 class='title'>
<a href='../../index.html'>
Factor: a practical stack language
</a>
</h1>
</div>
<div class='descriptionwrapper'>
<p class='description'><span><a href="http://factorcode.org/slava">Slava Pestov</a>'s weblog, primarily about <a href="http://factorcode.org">Factor</a>.</span></p>
</div>
</div>
</div></div>
</div>
<div id='content-wrapper'>
<div id='crosscol-wrapper' style='text-align:center'>
<div class='crosscol no-items section' id='crosscol'></div>
</div>
<div id='main-wrapper'>
<div class='main section' id='main'><div class='widget Blog' data-version='1' id='Blog1'>
<div class='blog-posts hfeed'>

          <div class="date-outer">
        
<h2 class='date-header'><span>Thursday, January 29, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='17087850' itemprop='blogId'/>
<meta content='857147866920256236' itemprop='postId'/>
<a name='857147866920256236'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='rendering-unicode-text-to-opengl.html'>Rendering Unicode text to an OpenGL texture using Mac OS X CoreText</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-857147866920256236' itemprop='description articleBody'>
This post is really a follow-up to my previous post where I bragged about Factor supporting <a href="unicode-font-rendering-in-factor-ui-on.html">Unicode font rendering on Mac OS X</a>. After writing that post I realized that there is not much information online about the particular use-case I implemented: rendering text to an offscreen bitmap context, and then making it into an OpenGL texture. So I decided to write up a blog post collecting the gory details in one place. This information should be useful to programmers who use any language on Mac OS X, but all the code examples are in Factor.<br /><br />The code examples below are not self-contained; they use the FFI bindings I defined in the <code>core-graphics</code> and <code>core-text</code> vocabularies in the <code>new_ui</code> branch in the Factor GIT repository. Factor's FFI is very easy to use, for example here are some Core Graphics functions:<br /><pre>FUNCTION: CGContextRef CGBitmapContextCreate (<br />   void* data,<br />   size_t width,<br />   size_t height,<br />   size_t bitsPerComponent,<br />   size_t bytesPerRow,<br />   CGColorSpaceRef colorspace,<br />   CGBitmapInfo bitmapInfo<br />) ;<br /><br />FUNCTION: void CGContextSetRGBFillColor (<br />   CGContextRef c,<br />   CGFloat red,<br />   CGFloat green,<br />   CGFloat blue,<br />   CGFloat alpha<br />) ;</pre><br />Once the FFI bindings are in place, a lot of higher-level wrapper code has to be written, because these are low-level, C APIs. The first step is creating a bitmap context; after that, I'll discuss creating the various Core Text data types and rendering strings to a bitmap context. Finally, I'll discuss creating an OpenGL texture from a bitmap context.<br /><h3>Creating a bitmap context</h3><br />The first step is to create a CoreGraphics bitmap context using <code>CGBitmapContextCreate</code>. When creating a bitmap context, you supply a byte array to render to. There are two main caveats here.<br /><br />First, the memory backing the context should not move while the context is active. This means in GC languages with copying collectors, such as Factor, you have to pin your byte array (Factor doesn't support this) or allocate it in unmanaged memory (using <code>malloc</code> or similar). This is of course obvious (if the GC moves the object, it has no way of notifying Core Graphics that it moved) but its something to watch out for when using an FFI from a high-level language.<br /><br />The second caveat, that took me a long time to figure out, is that you have to use a specific bitmap format if you want sub-pixel font smoothing to be enabled on LCD screens. The <code>bitmapInfo</code> parameter to <code>CGBitmapContextCreate</code> specifies the format of the bitmap in memory. The code path for sub-pixel font smoothing is only used if the following two flags are set in the bitmap info:<br /><ul><li><code>kCGImageAlphaPremultipliedFirst</code> - put the alpha component first in each quadruple</li><li><code>kCGBitmapByteOrder32Host</code> - use native endian to pack the ARGB quads, instead of the default which seems to be big-endian.</code></li></ul><br />If these two values are not passed, then sub-pixel smoothing will not be enabled even if the user is using an LCD monitor and has requested that it be performed.<br /><br />Below is the Factor code for creating a bitmap context, with some comments.<br /><br />First, we make a word which constructs the flags mentioned above:<br /><pre>&lt;PRIVATE<br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>bitmap-flags</strong></font> <font color="#6600cc">( </font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>flags</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">{</font> kCGImageAlphaPremultipliedFirst kCGBitmapByteOrder32Host <font color="#006633">}</font> flags <font color="#000000"><strong>;</strong></font></pre><br />Now, a word to compute the size of the bitmap in memory. This is used twice, when malloc'ing the bitmap, and after rendering, when copying it back to managed memory:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>bitmap-size</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>n</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    product <font color="#006666">&quot;</font><font color="#006666">uint</font><font color="#006666">&quot;</font> heap-size * <font color="#000000"><strong>;</strong></font></pre><br />Now, a word to malloc the bitmap. We add it the innermost destructor scope using <code>&free</code>; this ensures its deallocated when we're done with it, either after successfully rendering our text, or if an error is thrown:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>malloc-bitmap-data</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    bitmap-size malloc &amp;free <font color="#000000"><strong>;</strong></font></pre><br />We also have to pass a color space; the default RGB space is sufficient for my purposes, and once again we define a destructor:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>bitmap-color-space</strong></font> <font color="#6600cc">( </font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>color</strong></font><font color="#793b1c"><strong>-</strong></font><font color="#793b1c"><strong>space</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    CGColorSpaceCreateDeviceRGB &amp;CGColorSpaceRelease <font color="#000000"><strong>;</strong></font></pre><br />Now, a word which uses the above to create a context backed by unmanaged memory:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&lt;CGBitmapContext&gt;</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>context</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font> malloc-bitmap-data <font color="#006633">]</font> <font color="#006633">[</font> first2 <font color="#ff0000">8</font> <font color="#006633">]</font> <font color="#006633">[</font> first <font color="#ff0000">4</font> * <font color="#006633">]</font> tri<br />    bitmap-color-space bitmap-flags CGBitmapContextCreate<br />    <font color="#006633">[</font> <font color="#006666">&quot;</font><font color="#006666">CGBitmapContextCreate</font><font color="#006666"> </font><font color="#006666">failed</font><font color="#006666">&quot;</font> throw <font color="#006633">]</font> unless* <font color="#000000"><strong>;</strong></font></pre><br />Once we're done rendering, we have to get the bitmap data from the context and copy it to managed memory, so that we can return a byte array object to the user. This is done with the below word:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>bitmap-data</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>bitmap</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>data</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font> CGBitmapContextGetData <font color="#006633">]</font> <font color="#006633">[</font> bitmap-size <font color="#006633">]</font> bi*<br />    memory&gt;byte-array <font color="#000000"><strong>;</strong></font><br /><br />PRIVATE&gt;</pre><br />This ends the implementation detail. The last word here is a high-level word that is called by other code. This word completely hides the resource allocation and deallocation by establishing a destructor scope, creating a bitmap context, calling a quotation with the bitmap context, then copying the bitmap data back to managed memory and returning a byte array. All the external resources allocated during this operation -- the memory buffer, the color space, the context -- are deallocated for us as soon as <code>with-destructors</code> returns:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>with-bitmap-context</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>quot</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>data</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font><br />        <font color="#006633">[</font> <font color="#006633">[</font> &lt;CGBitmapContext&gt; &amp;CGContextRelease <font color="#006633">]</font> keep <font color="#006633">]</font> dip<br />        <font color="#006633">[</font> nip call <font color="#006633">]</font> <font color="#006633">[</font> drop bitmap-data <font color="#006633">]</font> 3bi<br />    <font color="#006633">]</font> with-destructors <font color="#000000"><strong>;</strong></font> inline</pre><br />Now, higher-level code can simply wrap some Core Graphics rendering calls in a <code>with-bitmap-context</code>, and receive a Factor byte array as the result.<br /><h3>Creating a CTFont</h3><br />Core Text defines the <code>CTFont</code> opaque type to represent a specific instance of a font with a style and size applied. I create <code>CTFont</code> instances with <code>CTFontCreateWithName</code>, and then apply bold and italic styles by calling <code>CTFontCreateCopyWithSymbolicTraits</code>. There is another API to do this in one shot, <code>CTFontCreateWithFontDescriptor</code>, but for some reason it ignores any set symbolic traits. Perhaps its a bug, or operator error, but it took me a lot of futzing around to get Core Text to respect my choice in font style. Another caveat to watch out for is that <code>CTFontCreateCopyWithSymbolicTraits</code> returns null if the traits could not be applied; for example, Apple's "Monaco" font does not have a bold variant, so if the user requests bold Monaco, you just have to return the original Monaco without the traits. There might be a way to synthetically increase the font weight, but I haven't discovered it yet.<br /><h3>Creating a CTLine from a string and a font</h3><br />One of the central abstractions in Core Text is a <code>CTLine</code>. You create a <code>CTLine</code> from a <code>CFAttributedString</code> with <code>CTLineCreateFromAttributedString</code>, and render it to a <code>CGContext</code> with <code>CTLineDraw</code>.<br /><br />Creating the <code>CFAttributedString</code> is an adventure in itself. For now, I'm only interested in rendering a string with a single font style and color, so I can use the <code>CFAttributedStringCreate</code> function to create the attributed string. It takes a <code>CFString</code> and <code>CFDictionary</code>. The dictionary can contain a number of keys, the two I'm using are <code>kCTFontAttributeName</code> and <code>kCTForegroundColorAttributeName</code>. These are global variables holding <code>CFString</code> references. Factor's FFI doesn't have a way to access global variables right now, so I made a quick hack specific to the <code>core-text</code> vocabulary. It lets you access global vars that hold <code>void*</code> values. Soon I'll generalize it and put it in <code>alien.syntax</code>, but for now it can live as a private utility in <code>core-text</code>:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>C-GLOBAL:</strong></font><br />    CREATE-WORD<br />    dup name&gt;&gt; '<font color="#006633">[</font> _ <font color="#6600cc">f</font> dlsym *void* <font color="#006633">]</font><br />    (<font color="#6600cc">( </font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>value</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font>) define-declared <font color="#000000"><strong>;</strong></font> parsing</pre><br />Using this utility is easy:<br /><pre>C-GLOBAL: kCTFontAttributeName<br />C-GLOBAL: kCTForegroundColorAttributeName</pre><br />Because I found myself constructing lots and lots of CF types: strings, numbers, dictionaries, colors, and so on, I made a utility word, <code>>cf</code> which converts a Factor object into a Core Foundation object. Using this word, I can define a <code>&lt:CFAttributedString></code> that constructs a <code>CFAttributedString</code> from a Factor string and assoc:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&lt;CFAttributedString&gt;</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>string</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>assoc</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font><br />        <font color="#006633">[</font> &gt;cf &amp;CFRelease <font color="#006633">]</font> bi@<br />        <font color="#006633">[</font> kCFAllocatorDefault <font color="#006633">]</font> 2dip CFAttributedStringCreate<br />    <font color="#006633">]</font> with-destructors <font color="#000000"><strong>;</strong></font></pre><br />Again, notice the destructor usage: we want to release the string and dictionary after we return, since the attributed string retains them for us.<br /><br />Now, we can create the <code>CTLine</code>, finally. Notice how we take a Factor string, a <code>CTFont</code>, and a color, and make the attributes as a Factor assoc; the <code>&lt;CFAttributedString></code> word takes care of converting it to Core Foundation types. And again, we use destructors for deterministic resource cleanup:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&lt;CTLine&gt;</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>string</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>font</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>color</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>line</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font><br />        <font color="#006633">[</font><br />            kCTForegroundColorAttributeName set<br />            kCTFontAttributeName set<br />        <font color="#006633">]</font> H<font color="#006633">{</font> <font color="#006633">}</font> make-assoc &lt;CFAttributedString&gt; &amp;CFRelease<br />        CTLineCreateWithAttributedString<br />    <font color="#006633">]</font> with-destructors <font color="#000000"><strong>;</strong></font></pre><br /><h3>Rendering a CTLine to a bitmap context</h3><br />Now we can put some things together and write a word which renders a Unicode string to a Factor byte array.<br /><br />First, we make a data type to hold the <code>CTLine</code>, the rendered bitmap, the typographic bounds, and some other things:<br /><pre>TUPLE: line font line bounds dim bitmap age refs disposed ;</pre><br />The <code>refs</code> and <code>age</code> slots are used for caching lines so that the UI doesn't have to render them over and over again; I'll discuss this in another blog post, maybe.<br /><br />Now, we have some code which computes the typographic bounds of a <code>CTLine</code>, and packages the values up into a Factor tuple; there's also a word to compute the size of the bitmap to create. This doesn't take leading into account, I haven't decided how to handle that yet:<br /><pre>TUPLE: typographic-bounds width ascent descent leading <font color="#000000"><strong>;</strong></font><br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>line-typographic-bounds</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>line</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>typographic</strong></font><font color="#793b1c"><strong>-</strong></font><font color="#793b1c"><strong>bounds</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#ff0000">0</font> &lt;CGFloat&gt; <font color="#ff0000">0</font> &lt;CGFloat&gt; <font color="#ff0000">0</font> &lt;CGFloat&gt;<br />    <font color="#006633">[</font> CTLineGetTypographicBounds <font color="#006633">]</font> 3keep <font color="#006633">[</font> *CGFloat <font color="#006633">]</font> tri@<br />    typographic-bounds boa <font color="#000000"><strong>;</strong></font><br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>bounds&gt;dim</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>bounds</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font> width&gt;&gt; <font color="#006633">]</font> <font color="#006633">[</font> <font color="#006633">[</font> ascent&gt;&gt; <font color="#006633">]</font> <font color="#006633">[</font> descent&gt;&gt; <font color="#006633">]</font> bi + <font color="#006633">]</font> bi<br />    <font color="#006633">[</font> ceiling &gt;fixnum <font color="#006633">]</font><br />    bi@ 2array <font color="#000000"><strong>;</strong></font></pre><br />Now that we have the above utilities, as well as all the code defined earlier, we can write a <code>&lt;line></code> constructor word which constructs a line tuple. Part of the construction involves rendering the text to a bitmap, and storing the resulting byte array in the line's <code>bitmap</code> slot. We're going to use the <code>with-bitmap-context</code> word written above here. There are a few steps to rendering a <code>CTLine</code> to a bitmap context:<br /><ul><li>First, you must fill the context with a background color, using <code>CGContextSetRGBFillColor</code> and <code>CGContextFillRect</code>. Leaving it transparent will disable sub-pixel rendering, so the line constructor takes a background color as a parameter.</li><li>You must set the text position with <code>CGContextSetTextPosition</code>.</li><li>Finally, you can render the text with <code>CTLineDraw</code>.</li></ul><br />This word manipulates a lot of intermediate values, makes a fair number of Core Graphics calls, and has complex data flow, so I chose to implement it using locals. Notice the <code>[let*</code> "serial-binding" form; successive definitions can reference previously-defined values:<br /><pre><font color="#000000"><strong>::</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&lt;line&gt;</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>string</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>font</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>foreground</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>background</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>line</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    <font color="#006633">[</font><br />        <font color="#006633">[</font>let* | font <font color="#006633">[</font> font CFRetain |CFRelease <font color="#006633">]</font><br />                line <font color="#006633">[</font> string font foreground &lt;CTLine&gt; |CFRelease <font color="#006633">]</font><br />                bounds <font color="#006633">[</font> line line-typographic-bounds <font color="#006633">]</font><br />                dim <font color="#006633">[</font> bounds bounds&gt;dim <font color="#006633">]</font> |<br />            dim <font color="#006633">[</font><br />                <font color="#006633">{</font><br />                    <font color="#006633">[</font> background &gt;rgba-components CGContextSetRGBFillColor <font color="#006633">]</font><br />                    <font color="#006633">[</font> <font color="#ff0000">0</font> <font color="#ff0000">0</font> dim first2 &lt;CGRect&gt; CGContextFillRect <font color="#006633">]</font><br />                    <font color="#006633">[</font> <font color="#ff0000">0</font> bounds descent&gt;&gt; CGContextSetTextPosition <font color="#006633">]</font><br />                    <font color="#006633">[</font> line swap CTLineDraw <font color="#006633">]</font><br />                <font color="#006633">}</font> cleave<br />            <font color="#006633">]</font> with-bitmap-context<br />            <font color="#006633">[</font> font line bounds dim <font color="#006633">]</font> dip <font color="#ff0000">0</font> <font color="#ff0000">0</font> <font color="#6600cc">f</font><br />        <font color="#006633">]</font><br />        line boa<br />    <font color="#006633">]</font> with-destructors <font color="#000000"><strong>;</strong></font></pre><br />Notice how it uses "on-error" destructors, named <code>|<i>foo</i></code>. This means that if the construction fails for whatever reason, the <code>CTLine</code> and <code>CTFont</code> objects are released, but if construction succeeds, they are retained. This is done so that we can hold on to these objects and store them in the new tuple's slots. The tuple itself has a <code>dispose*</code> method which releases the font and line objects:<br /><pre>M: line dispose* <font color="#006633">[</font> font&gt;&gt; CFRelease <font color="#006633">]</font> <font color="#006633">[</font> line&gt;&gt; CFRelease <font color="#006633">]</font> bi <font color="#000000"><strong>;</strong></font></pre><br />The Factor UI uses all the slots in the line object to perform operations such as measuring text, caching textures, and so on. For the purpose of this blog post, the only interesting slots are <code>dim</code> and <code>bitmap</code>. The bitmap slots holds a byte array with the rendered text, in the format we specified when creating the bitmap context; ARGB with native byte order.<br /><h3>Creating an OpenGL texture from a Core Graphics bitmap</h3><br />Standard OpenGL does not support ARGB bitmaps, however Apple's implementation supports the <code>GL_BGRA_ext</code> extension. To use this extension, I had to add a couple of constants to our <code>opengl.gl</code> vocabulary:<br /><pre><font color="#000000"><em>! </em></font><font color="#000000"><em>GL_BGRA_ext:</em></font><font color="#000000"><em> </em></font><font color="#000000"><em>http://www.opengl.org/registry/specs/EXT/bgra.txt</em></font><br />CONSTANT: GL_BGR_EXT                        <font color="#003333">HEX:</font><font color="#003333"> </font><font color="#003333">80E0</font><br />CONSTANT: GL_BGRA_EXT                       <font color="#003333">HEX:</font><font color="#003333"> </font><font color="#003333">80E1</font></pre><br />Now, we can pass <code>CL_BGRA_EXT</code> to <code>glTexImage2D</code>. Here is a utility word to ease creation of textures. Since <code>glTexImage2D</code> takes 9 parameters (!) I use locals so that I can name them:<br /><pre><font color="#000000"><strong>::</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>make-texture</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>dim</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>pixmap</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>format</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>type</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>id</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    gen-texture <font color="#006633">[</font><br />        GL_TEXTURE_BIT <font color="#006633">[</font><br />            GL_TEXTURE_2D swap glBindTexture<br />            GL_TEXTURE_2D<br />            <font color="#ff0000">0</font><br />            GL_RGBA<br />            dim first2<br />            <font color="#ff0000">0</font><br />            format<br />            type<br />            pixmap<br />            glTexImage2D<br />        <font color="#006633">]</font> do-attribs<br />    <font color="#006633">]</font> keep <font color="#000000"><strong>;</strong></font></pre><br />Once the texture has been created, we can display the text on the screen by binding the texture and rendering a quad. It is also important to call <code>glEnable</code> with <code>GL_TEXTURE_2D</code>, otherwise the quad won't be textured. I forgot this the first time and spent some 20 minutes looking at my code -- OpenGL is very picky like that.<br /><br />Keen readers will observe that I make no attempt to ensure the texture dimensions are powers of 2. This is because all Macs capable of running OS X 10.5 support the <code>GL_ARB_texture_non_power_of_two</code>, so at least in this case, you don't have to worry about padding the bitmap out anymore.<br /><br />I wrap all of this in a display list so that a previously-rendered piece of text can be displayed anywhere by performing a translation and calling the display list. Here is the code that does this:<br /><pre><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>make-line-display-list</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>rendered</strong></font><font color="#793b1c"><strong>-</strong></font><font color="#793b1c"><strong>line</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>texture</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>dlist</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br />    GL_COMPILE <font color="#006633">[</font><br />        GL_TEXTURE_2D <font color="#006633">[</font><br />            GL_TEXTURE_BIT <font color="#006633">[</font><br />                GL_TEXTURE_COORD_ARRAY <font color="#006633">[</font><br />                    white gl-color<br />                    GL_TEXTURE_2D swap glBindTexture<br />                    init-texture rect-texture-coords<br />                    dim&gt;&gt; fill-rect-vertices (gl-fill-rect)<br />                    GL_TEXTURE_2D <font color="#ff0000">0</font> glBindTexture<br />                <font color="#006633">]</font> do-enabled-client-state<br />            <font color="#006633">]</font> do-attribs<br />        <font color="#006633">]</font> do-enabled<br />    <font color="#006633">]</font> make-dlist <font color="#000000"><strong>;</strong></font></pre><br /><h3>All the rest</h3><br />I won't discuss the details of the remaining parts of the font rendering implementation here, but briefly, they are:<br /><ul><li>A texture cache where frequently-used textures are held to avoid rendering the same text over and over again; text expires from the cache if its not used for five consecutive rendering runs</li><li>Code for measuring text, converting logical positions to screen co-ordinates, and vice versa</li><li>The high-level platform-independent text API in Factor's UI, and the mapping between this API and the abstractions I described here</li><li>The FreeType implementation of the high-level layer, for use on other platforms</li></ul><br />If you want to dig deeper, feel free to peruse the <code>core-text</code>, <code>core-graphics</code>, <code>ui.text</code> and <code>ui.text.core-text</code> vocabularies in the <code>new_ui</code> branch in the GIT repository.<br /><h3>Appendix: alien destructors</h3><br />For background about Factor's destructors, see the following:<br /><ul><li><a href="http://docs.factorcode.org/content/article-destructors.html">The Factor documentation on the topic</a></li><li><a href="../../2008/01/generic-resource-disposal.html">My blog post on the topic</a></li><li><a href="http://code-factor.blogspot.com/2007/09/destructors-in-factor.html">Doug Coleman's original post</a> (the API has since changed)</li></ul><br />With destructors, you can wrap some code in a <code>with-destructors</code> scope, and call <code>&dispose</code> on external resources; when the <code>with-destructors</code> form returns, <code>dispose</code> is called on all the resources marked for disposal with <code>&dispose</code>. This is very handy for working with such things as Factor streams, database connections, and so on, but its a problem for bare C references; they're all instances of <code>alien</code>, and there's no meaningful <code>dispose</code> method that works on all of them. Our idiom until recently has been to wrap the alien in a one-tuple slot, which defines a custom <code>dispose</code> method, but this is just boilerplate. Factor supports meta-programming, and this could be taken care of with parsing words and macros; but the <a href="../../2008/12/arrays-of-unboxed-primitive-values-and.html">functors</a> abstraction I implemented a while ago, which basically gives you a very easy way to implement a certain type of parsing word, works really well here, and it becomes completely trivial to abstract out the creation of the one-slot class with a custom dispose method. The <code>alien.destructors</code> vocabulary defines a single parsing word, <code>DESTRUCTOR:</code>. Here is an example of its use from the <code>core-foundation</code> vocabulary; first we define an FFI binding to the Core Foundation <code>CFRelease</code> function, then we define it to be a destructor:<br /><pre><font color="#000000">FUNCTION: void CFRelease <font color="#6600cc">( </font><font color="#793b1c"><strong>CFTypeRef</strong></font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>cf</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font> <font color="#000000"><strong>;</strong></font><br /><br />DESTRUCTOR: CFRelease<br /></font></pre><br />The <code>DESTRUCTOR:</code> word defines two new words for us; <code>&CFRelease</code> and <code>|CFRelease</code>. You can see examples of their usage previously in this post. Here is the implementation of <code>DESTRUCTOR:</code> -- I won't go into the details, but you can see it looks like a template of what you'd write out every time if you didn't have the abstraction:<br /><pre><font color="#000000">FUNCTOR: define-destructor <font color="#6600cc">( </font><font color="#793b1c"><strong>F</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font><br /><br />F-destructor DEFINES $<font color="#006633">{</font>F<font color="#006633">}</font>-destructor<br />&lt;F-destructor&gt; DEFINES &lt;$<font color="#006633">{</font>F<font color="#006633">}</font>-destructor&gt;<br />&amp;F DEFINES &amp;$<font color="#006633">{</font>F<font color="#006633">}</font><br />|F DEFINES |$<font color="#006633">{</font>F<font color="#006633">}</font><br /><br />WHERE<br /><br />TUPLE: F-destructor alien disposed <font color="#000000"><strong>;</strong></font><br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&lt;F-destructor&gt;</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>destructor</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font> <font color="#6600cc">f</font> F-destructor boa <font color="#000000"><strong>;</strong></font> inline<br /><br />M: F-destructor dispose* alien&gt;&gt; F <font color="#000000"><strong>;</strong></font><br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>&amp;F</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font> dup &lt;F-destructor&gt; &amp;dispose drop <font color="#000000"><strong>;</strong></font> inline<br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>|F</strong></font> <font color="#6600cc">( </font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">--</font><font color="#793b1c"><strong> </strong></font><font color="#793b1c"><strong>alien</strong></font><font color="#793b1c"><strong> </strong></font><font color="#6600cc">)</font> dup &lt;F-destructor&gt; |dispose drop <font color="#000000"><strong>;</strong></font> inline<br /><br />;FUNCTOR<br /><br /><font color="#000000"><strong>:</strong></font><font color="#000000"><strong> </strong></font><font color="#000000"><strong>DESTRUCTOR:</strong></font> scan-word define-destructor <font color="#000000"><strong>;</strong></font> parsing<br /></font></pre><br />Functors are just a hack and everything they do can be achieved using parsing words, but the code with functors, in the cases that they can handle, is simpler and more declarative.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/rendering-unicode-text-to-opengl.html' itemprop='url'/>
<a class='timestamp-link' href='rendering-unicode-text-to-opengl.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-29T21:10:00-05:00'>9:10 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=857147866920256236' onclick=''>
No comments:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=857147866920256236' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=857147866920256236&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=857147866920256236&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=857147866920256236&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=857147866920256236&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=857147866920256236&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=857147866920256236&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

          </div></div>
        

          <div class="date-outer">
        
<h2 class='date-header'><span>Wednesday, January 21, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='http://factorcode.org/hello-unicode.png' itemprop='image_url'/>
<meta content='17087850' itemprop='blogId'/>
<meta content='4950470400523748469' itemprop='postId'/>
<a name='4950470400523748469'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='unicode-font-rendering-in-factor-ui-on.html'>Unicode font rendering in the Factor UI on Mac OS X</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-4950470400523748469' itemprop='description articleBody'>
For the last month and a half, I've been working hard on a big top-to-bottom overhaul of the UI. The developer tools are getting a big facelift, and so is the gadget substrate and backend rendering code. When it is closer to completion, I will blog more about the new features and post a screencast showing off the new capabilities.<br /><br />For now, here is a screenshot demonstrating just one of the many new features and improvements: Unicode font rendering on Mac OS X, with a cross-platform Factor API on top, and Apple's Core Text API under the covers:<br /><img src="http://factorcode.org/hello-unicode.png"><br />Notice the Georgian text in the title bar. Non-ASCII window titles have already worked for a long time.<br /><br />Throwing together bindings for Core Text and Core Graphics was pretty easy using Factor's FFI. Our destructors feature really helps bridge the gap between Factor's GC and C's manual memory management.<br /><br />On Windows and X11, I'm still using a portable FreeType backend for ASCII-only text, but I plan on replacing that with Microsoft's UniScribe (on Windows) and Pango (on X11). This will free Factor's UI from external dependencies other than those shipped with the operating system; having to lug the FreeType library around was annoying for deployment.<br /><br />Support for input methods is next, and together with <a href="http://useless-factor.blogspot.com">Daniel Ehrenberg</a>'s excellent pure-Factor Unicode library, this will give Factor excellent support for international applications that works identically across platforms. I don't think any of the other "new" languages, which have had a similar amount of developer effort and time put into it as Factor, come close in this respect.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/unicode-font-rendering-in-factor-ui-on.html' itemprop='url'/>
<a class='timestamp-link' href='unicode-font-rendering-in-factor-ui-on.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-21T20:14:00-05:00'>8:14 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=4950470400523748469' onclick=''>
5 comments:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=4950470400523748469' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=4950470400523748469&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4950470400523748469&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4950470400523748469&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4950470400523748469&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4950470400523748469&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4950470400523748469&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

          </div></div>
        

          <div class="date-outer">
        
<h2 class='date-header'><span>Monday, January 12, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='http://factorcode.org/intel-driver-2.4-bug.png' itemprop='image_url'/>
<meta content='17087850' itemprop='blogId'/>
<meta content='9169519061088692737' itemprop='postId'/>
<a name='9169519061088692737'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='bug-in-intel-video-driver-version-24.html'>Bug in Intel video driver version 2.4 for Linux fixed in version 2.5</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-9169519061088692737' itemprop='description articleBody'>
If you are running Linux with an Intel graphics card, you might get texture corruption issues, depending on what version of the driver you are using. The problem appears to be fixed in version 2.5. If you're using Ubuntu, here are some <a href="https://launchpad.net/~intel-gfx-testing/+archive">instructions for updating</a>. The problem looks like this:<br /><img src="http://factorcode.org/intel-driver-2.4-bug.png">
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/bug-in-intel-video-driver-version-24.html' itemprop='url'/>
<a class='timestamp-link' href='bug-in-intel-video-driver-version-24.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-12T19:33:00-05:00'>7:33 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=9169519061088692737' onclick=''>
1 comment:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=9169519061088692737' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=9169519061088692737&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=9169519061088692737&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=9169519061088692737&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=9169519061088692737&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=9169519061088692737&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=9169519061088692737&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

          </div></div>
        

          <div class="date-outer">
        
<h2 class='date-header'><span>Sunday, January 11, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='17087850' itemprop='blogId'/>
<meta content='5093740367740996661' itemprop='postId'/>
<a name='5093740367740996661'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='screencast-editing-factor-code-with.html'>Screencast: editing Factor code with Emacs and FUEL</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-5093740367740996661' itemprop='description articleBody'>
For the last few months, Jose A. Ortega Ruiz has been working on the Factor mode for Emacs, which was originally written by Eduardo Cavazos. Jose has extended the mode considerably, and renamed it to FUEL, "Factor's Ultimate Emacs Library". FUEL extends Eduardo's Factor mode with features inspired by <a href="http://common-lisp.net/project/slime/">SLIME</a>. Among them, we have:<br /><ul><li>Syntax highlighting, auto indent, s-expression navigation</li><li>Word completion</li><li>Jumping to definitions</li><li>Listing word usages</li><li>Some refactoring commands: extract word and extract vocab</li><li>Lots more; see the <a href="http://gitweb.factorcode.org/gitweb.cgi?p=factor/.git;a=blob;f=misc/fuel/README;h=f722b18598f3d8b39b7b4791f0c9bfcb89e6350a;hb=HEAD">documentation</a></ul>Some of FUEL's features duplicate functionality found in the Factor UI, but really, they're complementary; the backend code is the same (it's all written in Factor, and FUEL interogates a running Factor instance using reflection APIs).<br /><br />I decided to record a screencast to demonstrate some of the more interesting capabilities offered by FUEL. You can watch it at <a href="http://blip.tv/file/1658806">factor.blip.tv</a>. Make sure to full-screen it so you can read the text on my screen.<br /><br />Formerly I would use <a href="http://jedit.org">jEdit</a> to edit Factor code. Once FUEL started to become more mature, I decided to bite the bullet and learn Emacs. So indeed, after writing my own text editor, and using it for almost 11 years, I've decided to switch, because of FUEL. That's how compelling FUEL is! FUEL's <code>M-.</code> feature, which jumps to the word at the caret, and its automatic display of stack effects in the status bar, are huge productivity boosters in themselves, but FUEL offers much more than that.<br /><br />jEdit used to have something like FUEL, in the form of the now-obsolete <a href="http://factorcode.org/jedit/">jEdit Factor plugin</a>. I could have continued maintaining this plugin, but really, I don't want to run any Java applications on my computer, if possible. I'm disappointed by Sun's latest antics (abandoning Swing for the last 7 years or so; bundling Yahoo and MSN adware with the Windows JRE), and Apple's half-hearted support for Java (really it's Sun's fault; why don't they develop the Mac OS X JRE?). Now that I've switched to Emacs and FUEL for editing Factor code, I can boycott Java entirely and never run a Java application again.<br /><br />Of course, eventually I want to write a syntax-aware editor for Factor, in Factor. Until then, FUEL provides an adequate approximation.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/screencast-editing-factor-code-with.html' itemprop='url'/>
<a class='timestamp-link' href='screencast-editing-factor-code-with.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-11T22:52:00-05:00'>10:52 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=5093740367740996661' onclick=''>
9 comments:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=5093740367740996661' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=5093740367740996661&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=5093740367740996661&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=5093740367740996661&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=5093740367740996661&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=5093740367740996661&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=5093740367740996661&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

          </div></div>
        

          <div class="date-outer">
        
<h2 class='date-header'><span>Saturday, January 10, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='17087850' itemprop='blogId'/>
<meta content='4630305170824714589' itemprop='postId'/>
<a name='4630305170824714589'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='java-7-too-little-too-late.html'>Java 7: too little, too late</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-4630305170824714589' itemprop='description articleBody'>
So I'm reading <a href="http://www.javaworld.com/javaworld/jw-12-2008/jw-12-year-in-review-2.html?page=3">an article about Java 7</a>, and the new features just don't seem very compelling to me.<br /><br />For example, look at this quote from the article:<blockquote>JSR 203: NIO 2 extends and completes the work started in JDK 1.4 in the original NIO enhancements. The most obvious addition in NIO 2 is a complete overhaul of the file-access APIs. Most developers have used java.io.File and are aware of the long list of shortcomings:<br /><ul><li>No support for symbolic links</li><li>No support for straightforward or atomic move and copy operations</li><li>Cumbersome APIs for walking and filtering directories</li><li>Very limited support for access to permissions and file attributes</li><li>No API for watching directories or files</li></ul></blockquote><br />Funny how Factor's <a href="http://docs.factorcode.org/content/vocab-io.html">IO library</a> already has all of those features, with a cross-platform API on top, and more. Unlike language implementors who decided to host their language on the JVM, I don't have to sit around twiddling my thumbs while Sun implements basic functionality.<br /><br />And then there's this quote from the article:<br /><blockquote>Given shrinking resources at Sun, the number of significant JSRs, and pressure to release, it seems that it's unlikely that closures will be included in the Java SE 7 release.</blockquote><br />"Shrinking resources" indeed. During the dot-dom era, Sun pumped massive resources into Java, hiring an army of mediocre programmers to crank out feature after feature, half-assed API after half-assed API. Now all those bad design decisions, complete disregard for maintainability, and backwards compatibility is really weighing them down, and they're having trouble moving forward. This is why newer, better-designed languages and language implementations are able to evolve so much quicker than Java.<br /><br />It's 2009 and only now they're adding APIs to work with symbolic links, and move and copy files? And no closures? What a joke.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/java-7-too-little-too-late.html' itemprop='url'/>
<a class='timestamp-link' href='java-7-too-little-too-late.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-10T19:46:00-05:00'>7:46 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=4630305170824714589' onclick=''>
27 comments:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=4630305170824714589' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=4630305170824714589&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4630305170824714589&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4630305170824714589&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4630305170824714589&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4630305170824714589&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=4630305170824714589&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

          </div></div>
        

          <div class="date-outer">
        
<h2 class='date-header'><span>Friday, January 02, 2009</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='17087850' itemprop='blogId'/>
<meta content='8727497916659532938' itemprop='postId'/>
<a name='8727497916659532938'></a>
<h3 class='post-title entry-title' itemprop='name'>
<a href='advantages-of-concatenative-and-stack.html'>Advantages of concatenative and stack-based languages</a>
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-8727497916659532938' itemprop='description articleBody'>
Factor has many features that make it stand out -- I've blogged extensively about some of these, such as interactive development, the compiler, various libraries, application deployment, and so on. In those respects, I think it is pretty clear that Factor is competitive, or even ahead of, existing languages.<br /><br />However, I don't think I've ever written about the one aspect of Factor that many programmers find the most striking: the fact that it is concatenative language. For example, a recent blog post titled <a href="http://www.h3rald.com/articles/10-programming-languages">10 programming languages worth checking out</a>, the author decided to add Factor to the list not because of any of the features I mentioned in the first paragraph, but because it uses a stack to pass parameters; that alone make it "worth checking out" in his view.<br /><br />Because many people have asked me the question, "why the stack", I've finally decided to put together an overview of what these languages, and especially Factor, are all about. I've mentioned most of the material below in presentations, comments on forums and blogs, mailing list posts, and on IRC.<br /><br />Indeed, I believe that the underlying paradigm in Factor is the "secret weapon" which has allowed such a small community to build up a robust language implementation with a large collection of very capable libraries in only 5 years. There are inherent productivity advantages here, and we probably would have given up long ago if Factor was harder to use than existing languages.<br /><br />Originally I was going to write a series of blog posts, but I decided to put it in the wiki instead, under the <a href="http://concatenative.org/wiki/view/Concatenative%20language">Concatenative language</a> article there.<br /><br />On another note, I haven't done much hacking for the last two weeks because of a vacation; our <a href="http://gitweb.factorcode.org/gitweb.cgi?p=factor/.git;a=shortlog">git repository</a> has been pretty quiet of late. On January 5th I go back to work, and there is good stuff coming up for the UI developer tools, compiler, and web framework.
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
</span>
<span class='post-timestamp'>
at
<meta content='http://factor-language.blogspot.com/2009/01/advantages-of-concatenative-and-stack.html' itemprop='url'/>
<a class='timestamp-link' href='advantages-of-concatenative-and-stack.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2009-01-02T20:47:00-05:00'>8:47 PM</abbr></a>
</span>
<span class='post-comment-link'>
<a class='comment-link' href='https://www.blogger.com/comment.g?blogID=17087850&postID=8727497916659532938' onclick=''>
4 comments:
  </a>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post.g?blogID=17087850&postID=8727497916659532938' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
<span class='item-control blog-admin pid-561774689'>
<a href='https://www.blogger.com/post-edit.g?blogID=17087850&postID=8727497916659532938&from=pencil' title='Edit Post'>
<img alt='' class='icon-action' height='18' src='https://resources.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=8727497916659532938&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=8727497916659532938&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=8727497916659532938&target=twitter' target='_blank' title='Share to Twitter'><span class='share-button-link-text'>Share to Twitter</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=8727497916659532938&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=17087850&postID=8727497916659532938&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
</div>

        </div></div>
      
</div>
<div class='blog-pager' id='blog-pager'>
<span id='blog-pager-newer-link'>
<a class='blog-pager-newer-link' href='http://factor-language.blogspot.com/search?updated-max=2009-04-07T00:33:00-04:00&amp;max-results=7&amp;reverse-paginate=true' id='Blog1_blog-pager-newer-link' title='Newer Posts'>Newer Posts</a>
</span>
<span id='blog-pager-older-link'>
<a class='blog-pager-older-link' href='http://factor-language.blogspot.com/search?updated-max=2009-01-02T20:47:00-05:00&amp;max-results=7' id='Blog1_blog-pager-older-link' title='Older Posts'>Older Posts</a>
</span>
<a class='home-link' href='../../index.html'>Home</a>
</div>
<div class='clear'></div>
<div class='blog-feeds'>
<div class='feed-links'>
Subscribe to:
<a class='feed-link' href='http://factor-language.blogspot.com/feeds/posts/default' target='_blank' type='application/atom+xml'>Posts (Atom)</a>
</div>
</div>
</div></div>
</div>
<div id='sidebar-wrapper'>
<div class='sidebar section' id='sidebar'><div class='widget BlogArchive' data-version='1' id='BlogArchive1'>
<h2>Older Posts</h2>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/index.html'>
2010
</a>
<span class='post-count' dir='ltr'>(18)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/07/index.html'>
July
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/05/index.html'>
May
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/04/index.html'>
April
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/03/index.html'>
March
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/02/index.html'>
February
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2010/01/index.html'>
January
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>

        &#9660;&#160;
      
</span>
</a>
<a class='post-count-link' href='../index.html'>
2009
</a>
<span class='post-count' dir='ltr'>(35)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../12/index.html'>
December
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../11/index.html'>
November
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../10/index.html'>
October
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../08/index.html'>
August
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../07/index.html'>
July
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../05/index.html'>
May
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../04/index.html'>
April
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../03/index.html'>
March
</a>
<span class='post-count' dir='ltr'>(2)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../02/index.html'>
February
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate expanded'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy toggle-open'>

        &#9660;&#160;
      
</span>
</a>
<a class='post-count-link' href='index.html'>
January
</a>
<span class='post-count' dir='ltr'>(6)</span>
<ul class='posts'>
<li><a href='rendering-unicode-text-to-opengl.html'>Rendering Unicode text to an OpenGL texture using ...</a></li>
<li><a href='unicode-font-rendering-in-factor-ui-on.html'>Unicode font rendering in the Factor UI on Mac OS X</a></li>
<li><a href='bug-in-intel-video-driver-version-24.html'>Bug in Intel video driver version 2.4 for Linux fi...</a></li>
<li><a href='screencast-editing-factor-code-with.html'>Screencast: editing Factor code with Emacs and FUEL</a></li>
<li><a href='java-7-too-little-too-late.html'>Java 7: too little, too late</a></li>
<li><a href='advantages-of-concatenative-and-stack.html'>Advantages of concatenative and stack-based languages</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/index.html'>
2008
</a>
<span class='post-count' dir='ltr'>(96)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/12/index.html'>
December
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/11/index.html'>
November
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/10/index.html'>
October
</a>
<span class='post-count' dir='ltr'>(1)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/08/index.html'>
August
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/07/index.html'>
July
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/06/index.html'>
June
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/05/index.html'>
May
</a>
<span class='post-count' dir='ltr'>(6)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/04/index.html'>
April
</a>
<span class='post-count' dir='ltr'>(13)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/03/index.html'>
March
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/02/index.html'>
February
</a>
<span class='post-count' dir='ltr'>(17)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2008/01/index.html'>
January
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/index.html'>
2007
</a>
<span class='post-count' dir='ltr'>(141)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/12/index.html'>
December
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/11/index.html'>
November
</a>
<span class='post-count' dir='ltr'>(13)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/10/index.html'>
October
</a>
<span class='post-count' dir='ltr'>(10)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(15)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/08/index.html'>
August
</a>
<span class='post-count' dir='ltr'>(21)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/07/index.html'>
July
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/06/index.html'>
June
</a>
<span class='post-count' dir='ltr'>(12)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/05/index.html'>
May
</a>
<span class='post-count' dir='ltr'>(12)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/04/index.html'>
April
</a>
<span class='post-count' dir='ltr'>(12)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/03/index.html'>
March
</a>
<span class='post-count' dir='ltr'>(9)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/02/index.html'>
February
</a>
<span class='post-count' dir='ltr'>(12)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2007/01/index.html'>
January
</a>
<span class='post-count' dir='ltr'>(15)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/index.html'>
2006
</a>
<span class='post-count' dir='ltr'>(207)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/12/index.html'>
December
</a>
<span class='post-count' dir='ltr'>(23)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/11/index.html'>
November
</a>
<span class='post-count' dir='ltr'>(30)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/10/index.html'>
October
</a>
<span class='post-count' dir='ltr'>(25)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(22)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/08/index.html'>
August
</a>
<span class='post-count' dir='ltr'>(26)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/07/index.html'>
July
</a>
<span class='post-count' dir='ltr'>(23)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/06/index.html'>
June
</a>
<span class='post-count' dir='ltr'>(11)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/05/index.html'>
May
</a>
<span class='post-count' dir='ltr'>(15)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/04/index.html'>
April
</a>
<span class='post-count' dir='ltr'>(4)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/03/index.html'>
March
</a>
<span class='post-count' dir='ltr'>(11)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/02/index.html'>
February
</a>
<span class='post-count' dir='ltr'>(5)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2006/01/index.html'>
January
</a>
<span class='post-count' dir='ltr'>(12)</span>
</li>
</ul>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2005/index.html'>
2005
</a>
<span class='post-count' dir='ltr'>(23)</span>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2005/12/index.html'>
December
</a>
<span class='post-count' dir='ltr'>(11)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2005/11/index.html'>
November
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2005/10/index.html'>
October
</a>
<span class='post-count' dir='ltr'>(6)</span>
</li>
</ul>
<ul class='hierarchy'>
<li class='archivedate collapsed'>
<a class='toggle' href='javascript:void(0)'>
<span class='zippy'>

        &#9658;&#160;
      
</span>
</a>
<a class='post-count-link' href='../../2005/09/index.html'>
September
</a>
<span class='post-count' dir='ltr'>(3)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class='clear'></div>
</div>
</div><div class='widget Feed' data-version='1' id='Feed2'>
<h2>Recent Factor Commits</h2>
<div class='widget-content' id='Feed2_feedItemListDisplay'>
<span style='filter: alpha(25); opacity: 0.25;'>
<a href='http://gitweb.factorcode.org/gitweb.cgi?p=factor.git;a=atom'>Loading...</a>
</span>
</div>
<div class='clear'></div>
</div><div class='widget Feed' data-version='1' id='Feed1'>
<h2>Planet Factor</h2>
<div class='widget-content' id='Feed1_feedItemListDisplay'>
<span style='filter: alpha(25); opacity: 0.25;'>
<a href='http://planet.factorcode.org/feed.xml'>Loading...</a>
</span>
</div>
<div class='clear'></div>
</div><div class='widget LinkList' data-version='1' id='LinkList1'>
<h2>Links</h2>
<div class='widget-content'>
<ul>
<li><a href='http://twitter.com/slava_pestov'>@slava_pestov</a></li>
<li><a href='http://factorcode.org/slava/'>My home page</a></li>
<li><a href='http://factorcode.org/'>Factor programming language</a></li>
<li><a href='http://concatenative.org/'>Concatenative language wiki</a></li>
<li><a href='http://planet.factorcode.org/'>Planet Factor</a></li>
</ul>
<div class='clear'></div>
</div>
</div></div>
</div>
<!-- spacer for skins that want sidebar and main to be the same height-->
<div class='clear'>&#160;</div>
</div>
<!-- end content-wrapper -->
<div id='footer-wrapper'>
<div class='footer no-items section' id='footer'></div>
</div>
</div></div>
<!-- end outer-wrapper -->

<script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/940443484-widgets.js"></script>
<script type='text/javascript'>
window['__wavt'] = 'AOuZoY4XF8vi4s7P0RBv0kN2Y1Jr1B1lXA:1693932704245';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d17087850','//factor-language.blogspot.com/2009/01/','17087850');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '17087850', 'title': 'Factor: a practical stack language', 'url': 'http://factor-language.blogspot.com/2009/01/', 'canonicalUrl': 'http://factor-language.blogspot.com/2009/01/', 'homepageUrl': 'http://factor-language.blogspot.com/', 'searchUrl': 'http://factor-language.blogspot.com/search', 'canonicalHomepageUrl': 'http://factor-language.blogspot.com/', 'blogspotFaviconUrl': 'http://factor-language.blogspot.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'en-US', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'isDynamicViewsAvailable': true, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Factor: a practical stack language - Atom\x22 href\x3d\x22http://factor-language.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Factor: a practical stack language - RSS\x22 href\x3d\x22http://factor-language.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Factor: a practical stack language - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/17087850/posts/default\x22 /\x3e\n', 'meTag': '', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': false, 'adsenseAutoAds': false, 'boqCommentIframeForm': true, 'loginRedirectParam': '', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/591781cadcbb8744', 'plusOneApiSrc': 'https://apis.google.com/js/platform.js', 'disableGComments': true, 'interstitialAccepted': false, 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Share to Twitter', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'disableGooglePlus': true, 'googlePlusShareButtonWidth': 0, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'archive', 'pageName': 'January 2009', 'pageTitle': 'Factor: a practical stack language: January 2009'}}, {'name': 'features', 'data': {}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Factor: a practical stack language', 'description': '\x3ca href\x3d\x22http://factorcode.org/slava\x22\x3eSlava Pestov\x3c/a\x3e\x27s weblog, primarily about \x3ca href\x3d\x22http://factorcode.org\x22\x3eFactor\x3c/a\x3e.', 'url': 'http://factor-language.blogspot.com/2009/01/', 'type': 'feed', 'isSingleItem': false, 'isMultipleItems': true, 'isError': false, 'isPage': false, 'isPost': false, 'isHomepage': false, 'isArchive': true, 'isLabelSearch': false, 'archive': {'year': 2009, 'month': 1, 'rangeMessage': 'Showing posts from January, 2009'}}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/1333563935-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/3268905543-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FeedView', new _WidgetInfo('Feed2', 'sidebar', document.getElementById('Feed2'), {'title': 'Recent Factor Commits', 'showItemDate': true, 'showItemAuthor': true, 'feedUrl': 'http://gitweb.factorcode.org/gitweb.cgi?p\x3dfactor.git;a\x3datom', 'numItemsShow': 5, 'loadingMsg': 'Loading...', 'openLinksInNewWindow': false, 'useFeedWidgetServ': 'true'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_FeedView', new _WidgetInfo('Feed1', 'sidebar', document.getElementById('Feed1'), {'title': 'Planet Factor', 'showItemDate': true, 'showItemAuthor': false, 'feedUrl': 'http://planet.factorcode.org/feed.xml', 'numItemsShow': 5, 'loadingMsg': 'Loading...', 'openLinksInNewWindow': false, 'useFeedWidgetServ': 'true'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar', document.getElementById('LinkList1'), {}, 'displayModeFull'));
</script>
</body>
</html>